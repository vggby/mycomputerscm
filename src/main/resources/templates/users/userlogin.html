<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <head>
        <meta charset="UTF-8">
        <title>登录</title>

        <link type="text/css" th:href="@{../css/reset.css}" rel="stylesheet" />
        <link type="text/css" th:href="@{../css/login.css}" rel="stylesheet" />
        <script th:src="@{../js/jquery-3.3.1.js}"></script>
        <script th:src="@{../js/jquery.md5.js}"></script>
    </head>
</head>
<body>
<div  class="login">
    <img class="logo" th:src="@{images/logo-login.png}" />
    <form id="loginForm" >
        <div class="use">
            <label class="f-l" for="useName">用户名</label>
            <input class="f-r" id="useName" name = "personUserName"type="text" placeholder="请写上用户名" />
        </div>
        <div class="use">
            <label class="f-l" id="usepsw">密码</label>
            <input class="f-r" id="usepsd" name = "personPassword" type="password" placeholder="密码" />
        </div>
        <p class="err">用户名或密码错误，请重新输入</p>
        <input class="btn" type="button" id="bt_login" value="登录" />
    </form>

    <div class="footer">

    </div>

</div>
<img class="img1" th:src="@{images/images/air-balloon-1.png}" />
<img class="img2" th:src="@{images/images/air-balloon-2.png}" />
<img class="img3" th:src="@{images/images/air-balloon-2.png}" />
</body>
<script type="text/javascript">
    $("#bt_login").click(function() {
        $.ajax({
            url: "/user/login",
            data: {
                username: $("#useName").val(),
                password: $("#usepsd").val()
            },
            async: false,   //是否为异步请求
            cache: false,  //是否缓存结果
            type: "POST",
            dataType: "json",   //服务器返回的数据是什么类型
            success: function(data){
                if(data.flag){
                    alert("111");
                    //登录成功,给errorMsg添加提示信息
                    window.location.href="/user/center";
                    return false;
                }else{
                    alert(data.ErrorMsg);
                }
            }
        });
    });

</script>

</html>