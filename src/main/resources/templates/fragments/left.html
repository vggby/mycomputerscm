<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<aside class="main-sidebar" th:fragment="left">
  <!-- sidebar: style can be found in sidebar.less -->
  <section class="sidebar" style="height: auto;" id="left">

    <!-- Sidebar user panel -->
    <div class="user-panel">
      <div class="pull-left image">
        <img th:src="@{../style/img/tuo.jpg}" class="img-circle" alt="User Image">
      </div>
      <div class="pull-left info">
        <!--<p>${users.personUserName}</p>-->
        <a href="#"><i class="fa fa-circle text-success"></i> 欢迎您</a>
      </div>
    </div>
    <!-- search form -->
    <form action="#" method="get" class="sidebar-form">
      <div class="input-group">
      </div>
    </form>
    <!-- /.search form -->
    <!-- sidebar menu: : style can be found in sidebar.less -->
    <ul class="sidebar-menu tree" data-widget="tree" id="ulmenu">
      <li class="treeview">
      <a href="#">
        <i class="fa fa-dashboard"></i> <span>账号管理</span>
        <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
      <ul class="treeview-menu">
        <li><a href="#"><i class="fa fa-circle-o"></i>创建新账号</a></li>

      </ul>

    </li>

      <li class="treeview">
        <a href="#">
          <i class="fa fa-dashboard"></i> <span>导入导出</span>
          <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
        <ul class="treeview-menu">

          <li class="treeview">
            <a href="#">
              <i class="fa fa-dashboard"></i> <span>导入导出1</span>
              <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
            </a>
            <ul class="treeview-menu">
              <li><a href="#"><i class="fa fa-circle-o"></i>导出</a></li>
            </ul>
          </li>

        </ul>
      </li>
      <li class="treeview">
        <a href="#">
          <i class="fa fa-dashboard"></i> <span>系统设置</span>
          <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
          </span>
        </a>
        <ul class="treeview-menu">
          <li><a href="#"><i class="fa fa-circle-o"></i>账号冻结</a></li>

        </ul>
      </li>

      <li></li>
      <li class="header">LABELS</li>
      <li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>Important</span></a></li>
      <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> <span>Warning</span></a></li>
      <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
    </ul>

    <script>
      $(document).ready(function () {

        function getRootmenu() {
          $.ajax({
            type: "get",
            dataType: "json",
            url: "/getMenu",
            success: function (data) {

              var m = "";
              if (data.length > 0) {
                for (j = 0; j < data.length; j++) {
                  if (data[j].parentId =='root') {
                    m = m + "<li class='treeview'><a href='#'><i class='fa fa-dashboard'></i> <span>"+data[j].menuName+"<span class='pull-right-container'><i class='fa fa-angle-left pull-right'></i></span></a>";
                    if (data[j].subMenuList.length>0){
                      m=m+'<ul class="treeview-menu">';
                      for (i = 0; i < data[j].subMenuList.length; i++) {
                        m=m+'<li><a href="#"><i class="fa fa-circle-o"></i>'+data[j].subMenuList[i].menuName+'</a></li>';
                      }
                      m=m+'</ul>';
                    }

                  }
                }
              }
              m=m+'</li>';

              $('#ulmenu').html(m);

            }
          });
        }
        getRootmenu();
      });
    </script>

  </section>
  <!-- /.sidebar -->
</aside>


</html>